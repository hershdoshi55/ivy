<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>May I be Your Boyfriend? ðŸ’–</title>
    <style>
      :root {
        --bg1: #f9e6ff;
        --bg2: #e6fff6;
        --text: #4b5563;
        --yes: #bfdbfe;   /* pastel blue */
        --yes-ink: #1e3a8a;
        --no:  #fecaca;
        --no-ink: #7f1d1d;
        --card: #ffffffcc;
      }
      * { box-sizing: border-box }

      html, body { height: 100% }

      body{
        margin:0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color:var(--text);
        background: radial-gradient(60% 60% at 50% 40%, var(--bg2), var(--bg1));
        display:grid; place-items:center;
        /* safe-area padding for iOS notches */
        padding: max(8px, env(safe-area-inset-top))
                 max(8px, env(safe-area-inset-right))
                 max(8px, env(safe-area-inset-bottom))
                 max(8px, env(safe-area-inset-left));
      }

      .wrap{
        position:relative;
        width:min(820px, 94vw);
        min-height:72vh;
        display:flex; flex-direction:column; align-items:center; justify-content:center;
        gap:20px; padding:24px;
      }

      .card{
        width:100%; max-width:720px;
        background:var(--card);
        backdrop-filter:saturate(120%) blur(6px);
        border-radius:24px; padding: clamp(18px, 3vw, 28px);
        box-shadow:0 10px 30px #00000014; text-align:center;
      }

      h1{ margin:0 0 10px; font-size: clamp(1.4rem, 6vw, 2.2rem) }
      p{  margin:0 0 10px;  font-size: clamp(.95rem, 3.6vw, 1.05rem) }

      .gif-box{ display:flex; align-items:center; justify-content:center; padding:8px }
      .gif-box img{ max-width:100%; height:auto; border-radius:16px; box-shadow:0 8px 20px #00000012 }

      .buttons{
        position:relative; width:100%;
        height: clamp(150px, 28vh, 220px);
        margin-top:6px;
      }
      .btn{
        position:absolute; inset:auto;
        border:none; padding: clamp(12px, 3.5vw, 14px) clamp(16px, 5vw, 22px);
        border-radius:999px; font-weight:700;
        font-size: clamp(1rem, 4vw, 1.05rem);
        cursor:pointer; transition:transform .08s ease;
        box-shadow:0 6px 16px #0000001a;
        touch-action: manipulation;  /* nicer on mobile */
      }
      .btn:active{ transform: scale(0.98) }
      #yesBtn{ left:50%; transform:translateX(-50%); bottom:12px; background:var(--yes); color:var(--yes-ink) }
      #noBtn{ left:calc(50% + 110px); bottom:12px; background:var(--no); color:var(--no-ink) }

      .floating{ animation: float 4s ease-in-out infinite }
      @keyframes float{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }

      .sr-only{
        position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden;
        clip:rect(0,0,0,0); white-space:nowrap; border:0;
      }

      /* Small screens: give the No button more room & center buttons initially */
      @media (max-width: 480px){
        .buttons{ height: clamp(180px, 34vh, 260px) }
        #noBtn{ left: 65%; }
      }
    </style>
  </head>
  <body>
    <div class="wrap" id="wrap">
      <div class="card">
        <h1 class="floating">May I be your Boyfriend Ivy? ðŸ’–</h1>
        <p>Pretty please?</p>

        <div class="gif-box" aria-label="cute gif">
          <!-- Tenor embed is responsive with data-width=100% -->
          <div class="tenor-gif-embed"
               data-postid="5049918420876762547"
               data-share-method="host"
               data-aspect-ratio="1.3333"
               data-width="100%">
            <a href="https://tenor.com/view/cinnamoroll-sanrio-hearts-cutes-gif-5049918420876762547">Cinnamoroll Hearts</a>
          </div>
          <script async src="https://tenor.com/embed.js"></script>
        </div>

        <!-- fixed stray extra quote on class attr -->
        <div class="buttons" id="buttonStage">
          <button id="yesBtn" class="btn" aria-label="Yes, of course!">Yuh ðŸ’–</button>
          <button id="noBtn"  class="btn" aria-label="No (this one runs away)">Nauur ðŸ˜¢</button>
          <span class="sr-only" id="live" aria-live="polite"></span>
        </div>
      </div>
    </div>

    <script>
      const stage = document.getElementById("buttonStage");
      const yes   = document.getElementById("yesBtn");
      const no    = document.getElementById("noBtn");
      const live  = document.getElementById("live");

      yes.addEventListener("click", () => { window.location.href = "yes.html"; });

      const rand = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

      function moveNoButton(){
        const stageRect = stage.getBoundingClientRect();
        const btnRect   = no.getBoundingClientRect();
        const yesRect   = yes.getBoundingClientRect();
        const pad = 6;

        const maxLeft = Math.max(pad, stageRect.width  - btnRect.width  - pad);
        const maxTop  = Math.max(pad, stageRect.height - btnRect.height - pad);

        let left, top, attempts = 0, overlapsYes;
        do{
          left = rand(pad, Math.floor(maxLeft));
          top  = rand(pad, Math.floor(maxTop));
          const candidate = {
            left: stageRect.left + left,
            top:  stageRect.top  + top,
            right:  stageRect.left + left + btnRect.width,
            bottom: stageRect.top  + top  + btnRect.height
          };
          overlapsYes = !(
            candidate.right  < yesRect.left  ||
            candidate.left   > yesRect.right ||
            candidate.bottom < yesRect.top   ||
            candidate.top    > yesRect.bottom
          );
          attempts++;
        } while (overlapsYes && attempts < 30);

        no.style.left = left + "px";
        no.style.top  = top  + "px";
        no.style.bottom = "auto";
        no.style.transform = `rotate(${rand(-8, 8)}deg)`;
        live.textContent = "The No button scurried away!";
      }

      ["mouseenter","pointerdown","focus","touchstart","mouseover"]
        .forEach(ev => no.addEventListener(ev, moveNoButton, { passive:true }));

      const resizeStage = () => {
        const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);
        stage.style.height = Math.max(170, Math.min(300, Math.floor(vh * 0.32))) + "px";
      };
      window.addEventListener("resize", resizeStage);
      resizeStage();
    </script>
  </body>
</html>
